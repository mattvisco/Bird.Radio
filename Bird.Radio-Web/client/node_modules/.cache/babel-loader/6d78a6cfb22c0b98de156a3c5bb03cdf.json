{"ast":null,"code":"import _classCallCheck from \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.scss';\nimport socketIOClient from 'socket.io-client';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: null,\n      response: false,\n      endpoint: \"http://localhost:5000\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var endpoint = this.state.endpoint;\n      var socket = socketIOClient(endpoint);\n      socket.on('connection', function (socket) {\n        console.log('a user connected');\n        socket.on('disconnect', function () {\n          console.log('user disconnected');\n        });\n      });\n      testFetch();\n    }\n  }, {\n    key: \"testFetch\",\n    value: function testFetch() {\n      var _this2 = this;\n\n      var requestHeaders = new window.Headers({\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      });\n      fetch('/express_backend', {\n        method: 'GET',\n        headers: requestHeaders\n      }).then(function (response) {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response;\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.setState({\n          data: data.express\n        });\n      }).catch(function (error) {\n        console.log(error.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        className: \"App-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Welcome to React\")), React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.state.data));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/M/Projects/Bird.Radio/Bird.Radio-CodeBase/client/src/App.js"],"names":["React","Component","socketIOClient","App","state","data","response","endpoint","socket","on","console","log","testFetch","requestHeaders","window","Headers","fetch","method","headers","then","ok","Error","status","json","setState","express","catch","error","message","logo"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,OAAO,YAAP;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;IAEMC,G;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,IADA;AAENC,MAAAA,QAAQ,EAAE,KAFJ;AAGNC,MAAAA,QAAQ,EAAE;AAHJ,K;;;;;;wCAMY;AAAA,UACVA,QADU,GACG,KAAKH,KADR,CACVG,QADU;AAElB,UAAMC,MAAM,GAAGN,cAAc,CAACK,QAAD,CAA7B;AACAC,MAAAA,MAAM,CAACC,EAAP,CAAU,YAAV,EAAwB,UAASD,MAAT,EAAgB;AACtCE,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAH,QAAAA,MAAM,CAACC,EAAP,CAAU,YAAV,EAAwB,YAAU;AAChCC,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,SAFD;AAGD,OALD;AAOAC,MAAAA,SAAS;AACV;;;gCAEW;AAAA;;AACV,UAAMC,cAAc,GAAG,IAAIC,MAAM,CAACC,OAAX,CAAmB;AACxC,kBAAU,kBAD8B;AAExC,wBAAgB;AAFwB,OAAnB,CAAvB;AAKAC,MAAAA,KAAK,CAAC,kBAAD,EAAqB;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,OAAO,EAAEL;AAA1B,OAArB,CAAL,CACGM,IADH,CACQ,UAAAb,QAAQ,EAAI;AAChB,YAAI,CAACA,QAAQ,CAACc,EAAd,EAAkB;AAAE,gBAAM,IAAIC,KAAJ,CAAUf,QAAQ,CAACgB,MAAnB,CAAN;AAAkC;;AACtD,eAAOhB,QAAP;AACD,OAJH,EAKGa,IALH,CAKQ,UAAAb,QAAQ,EAAI;AAChB,eAAOA,QAAQ,CAACiB,IAAT,EAAP;AACD,OAPH,EAQGJ,IARH,CAQQ,UAAAd,IAAI,EAAI;AACZ,QAAA,MAAI,CAACmB,QAAL,CAAc;AACZnB,UAAAA,IAAI,EAAEA,IAAI,CAACoB;AADC,SAAd;AAGD,OAZH,EAaGC,KAbH,CAaS,UAAAC,KAAK,EAAI;AACdjB,QAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAK,CAACC,OAAlB;AACD,OAfH;AAgBD;;;6BAGQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAEC,IAAV;AAAgB,QAAA,SAAS,EAAC,UAA1B;AAAqC,QAAA,GAAG,EAAC,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,CADF,EAKE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B,KAAKzB,KAAL,CAAWC,IAArC,CALF,CADF;AASD;;;;EAxDeJ,S;;AA2DlB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.scss';\nimport socketIOClient from 'socket.io-client';\n\nclass App extends Component {\n\n  state = {\n    data: null,\n    response: false,\n    endpoint: \"http://localhost:5000\"\n  };\n\n  componentDidMount() {\n    const { endpoint } = this.state;\n    const socket = socketIOClient(endpoint);\n    socket.on('connection', function(socket){\n      console.log('a user connected');\n      socket.on('disconnect', function(){\n        console.log('user disconnected');\n      });\n    });\n\n    testFetch();\n  }\n\n  testFetch() {\n    const requestHeaders = new window.Headers({\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    })\n\n    fetch('/express_backend', { method: 'GET', headers: requestHeaders })\n      .then(response => {\n        if (!response.ok) { throw new Error(response.status) }\n        return response\n      })\n      .then(response => {\n        return response.json()\n      })\n      .then(data => {\n        this.setState({\n          data: data.express\n        })\n      })\n      .catch(error => {\n        console.log(error.message)\n      })\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">Welcome to React</h1>\n        </header>\n        <p className=\"App-intro\">{this.state.data}</p>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}